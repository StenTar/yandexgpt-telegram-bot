# ðŸ“„ Ð•Ð”Ð˜ÐÐ«Ð™ ÐŸÐÐ¡ÐŸÐžÐ Ð¢ ÐŸÐ ÐžÐ•ÐšÐ¢Ð: YandexGPT Telegram Bot

> ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð˜Ð˜-Ð°ÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐµÐº Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð² Ð½Ð° Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¿Ð»ÐµÐ¹ÑÐ°Ñ…  
> Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ PostgreSQL Ð¸ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ð¾Ð³Ð¾ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

---

## ðŸ§  Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

- ÐŸÑ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ñ‚Ð¾Ð²Ð°Ñ€Ð° Ð¾Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð² Telegram
- Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ SEO-Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÑƒ Ñ‡ÐµÑ€ÐµÐ· YandexGPT
- Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚: Ð°Ð½Ð°Ð»Ð¸Ð·, Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ, Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ, Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°, Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸ÑÑ‚Ð¸ÐºÐ¸, ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ ÑÐ»Ð¾Ð²Ð°
- Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð±ÐµÐ· ÑƒÑ‡Ð°ÑÑ‚Ð¸Ñ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ° 24/7
- ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð´Ð²Ð° Ñ‚Ð¸Ð¿Ð° Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ (PostgreSQL Ð¸ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ð¾Ðµ)

---

## ðŸ—ï¸ ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ð¸ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

### Ð”Ð¾Ð¼Ð°ÑˆÐ½Ð¸Ð¹ ÑÐµÑ€Ð²ÐµÑ€ (192.168.1.247)

- Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: PostgreSQL Ð½Ð° 192.168.1.249
- Ð¢Ð¸Ð¿: Production-like (Ð¿Ð¾Ð»Ð½Ð°Ñ Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°)
- ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‡Ð°Ñ ÑÑ€ÐµÐ´Ð°

### Ð¡Ñ‚ÑÐ¹Ð´Ð¶Ð¸Ð½Ð³ ÑÐµÑ€Ð²ÐµÑ€ (45.151.30.47)

- Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: Ð¤Ð°Ð¹Ð»Ð¾Ð²Ð¾Ðµ (/opt/ytb/logs/bot.log)
- Ð¢Ð¸Ð¿: Staging/Testing
- ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ, Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ

---

## ðŸ›  Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÑ‚ÐµÐº

| ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚             | Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ                   | ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ                 |
|-----------------------|------------------------------|----------------------------|
| Ð‘ÑÐºÐµÐ½Ð´                | Python 3.12                  | ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÑÐ·Ñ‹Ðº              |
| Telegram-Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€Ðº    | aiogram 3.x                  | ÐÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€Ðº      |
| Ð˜Ð˜-Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€          | YandexGPT (yandexgpt-lite)   | Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°         |
| Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ           | Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð»Ð¾Ð³Ð³ÐµÑ€         | PostgreSQL Ð˜Ð›Ð˜ Ñ„Ð°Ð¹Ð»Ñ‹       |
| Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…           | PostgreSQL 17+ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾) | Ð”Ð»Ñ Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐ³Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð°      |
| Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð°               | Ubuntu 24.04/25.04 LTS       | ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾ Ð½Ð° Ð¾Ð±ÐµÐ¸Ñ… Ð²ÐµÑ€ÑÐ¸ÑÑ… |
| Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°Ð¼Ð¸ | systemd                      | ÐÐ²Ñ‚Ð¾Ð·Ð°Ð¿ÑƒÑÐº, Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³     |
| ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð²ÐµÑ€ÑÐ¸Ð¹       | Git (GitHub + GitLab)        | Ð”Ð²Ð¾Ð¹Ð½Ð°Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ      |
| Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸           | requirements.txt + venv      | Ð˜Ð·Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ    |
| Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ          | Ð¡ÐµÐºÑ€ÐµÑ‚Ñ‹ Ð² .env (Ð½Ðµ Ð² Git!)   | Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ÐºÐ»ÑŽÑ‡ÐµÐ¹ |

---

## ðŸ”§ Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð»Ð¾Ð³Ð³ÐµÑ€

### ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸:

- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð° Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ LOG_TYPE
- ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð´Ð²ÑƒÑ… Ñ€ÐµÐ¶Ð¸Ð¼Ð¾Ð²: 
  1. LOG_TYPE=postgres - Ð»Ð¾Ð³Ð¸ Ð² PostgreSQL (Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð‘Ð”)
  2. LOG_TYPE=file - Ð»Ð¾Ð³Ð¸ Ð² Ñ„Ð°Ð¹Ð» (Ð¿Ñ€Ð¾Ñ‰Ðµ Ð´Ð»Ñ ÑÑ‚ÐµÐ½Ð´Ð°)
- Ð•Ð´Ð¸Ð½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ - ÐºÐ¾Ð´ Ð±Ð¾Ñ‚Ð° Ð½Ðµ Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ Ð¿Ñ€Ð¸ ÑÐ¼ÐµÐ½Ðµ Ñ‚Ð¸Ð¿Ð° Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

### ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ (Ð² .env):

```bash
# Ð”Ð»Ñ Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐ³Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð° (PostgreSQL)
LOG_TYPE=postgres
DB_HOST=192.168.1.249
DB_PASSWORD=Ð²Ð°Ñˆ_Ð¿Ð°Ñ€Ð¾Ð»ÑŒ

# Ð”Ð»Ñ ÑÑ‚ÐµÐ½Ð´Ð¾Ð²Ð¾Ð³Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð° (Ñ„Ð°Ð¹Ð»Ñ‹)
LOG_TYPE=file
LOG_FILE=/opt/ytb/logs/bot.log
```

---

## ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

### 1. ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

```
# ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð· GitLab (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)
git clone git@gitlab.com:StenTar/yandexgpt-telegram-bot.git /opt/ytb
cd /opt/ytb

# Ð˜Ð»Ð¸ Ð¸Ð· GitHub
git clone git@github.com:StenTar/yandexgpt-telegram-bot.git /opt/ytb
cd /opt/ytb
```

### 2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

```
# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ
python3 -m venv venv
venv/bin/pip install -r requirements.txt

# Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ .env Ñ„Ð°Ð¹Ð»
# Ð”Ð»Ñ Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐ³Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð°:
cp .env.example .env
# Ð”Ð»Ñ ÑÑ‚ÐµÐ½Ð´Ð¾Ð²Ð¾Ð³Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð°:
cp .env.staging.example .env

# ÐžÑ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ .env (Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÐºÐ»ÑŽÑ‡Ð¸!)
nano .env
```

### 3. Ð—Ð°Ð¿ÑƒÑÐº ÐºÐ°Ðº ÑÐ»ÑƒÐ¶Ð±Ñ‹

```
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ systemd ÑÐ»ÑƒÐ¶Ð±Ñƒ
sudo cp telegram-bot.service /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable telegram-bot
sudo systemctl start telegram-bot

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ
sudo systemctl status telegram-bot
```

---

## ðŸ“Š ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ Ð»Ð¾Ð³Ð¸

### Ð”Ð»Ñ Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐ³Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð° (PostgreSQL):

```
# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð² Ð² Ð‘Ð”
psql -h 192.168.1.249 -U ytb_admin -d ytb -c "
  SELECT timestamp, level, username, message 
  FROM bot_logs 
  ORDER BY timestamp DESC 
  LIMIT 10;"
```

### Ð”Ð»Ñ ÑÑ‚ÑÐ¹Ð´Ð¶Ð¸Ð½Ð³ ÑÐµÑ€Ð²ÐµÑ€Ð° (Ñ„Ð°Ð¹Ð»Ñ‹):

```
# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ñ‹Ñ… Ð»Ð¾Ð³Ð¾Ð²
tail -f /opt/ytb/logs/bot.log

# ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
sudo journalctl -u telegram-bot -f
```

### ÐžÐ±Ñ‰Ð¸Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:

```
# Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÑÐ»ÑƒÐ¶Ð±Ñ‹
sudo systemctl status telegram-bot

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº
sudo systemctl restart telegram-bot

# ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
sudo systemctl stop telegram-bot

# Ð›Ð¾Ð³Ð¸ systemd
sudo journalctl -u telegram-bot --no-pager -n 50
```

---

## ðŸ”„ Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð´Ð¾Ð¼ (Git)

### Ð ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸:

- GitHub: https://github.com/StenTar/yandexgpt-telegram-bot
- GitLab: https://gitlab.com/StenTar/yandexgpt-telegram-bot

### Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ:

Push Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Ð² Ð¾Ð±Ð° Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ:

```
# Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°
git add .
git commit -m "ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹"
git push origin master  # ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð² GitHub Ð˜ GitLab
```

### ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð´Ð°:

```
cd /opt/ytb
sudo systemctl stop telegram-bot
git pull origin master
venv/bin/pip install -r requirements.txt
sudo systemctl start telegram-bot
```

---

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
/opt/ytb/
â”œâ”€â”€ src/                              # Ð˜ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ ÐºÐ¾Ð´
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ bot.py                        # ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ„Ð°Ð¹Ð» Ð±Ð¾Ñ‚Ð°
â”‚   â”œâ”€â”€ yandexgpt_marketer.py         # Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ YandexGPT API
â”‚   â”œâ”€â”€ postgres_logger.py            # Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² PostgreSQL
â”‚   â””â”€â”€ universal_logger.py           â˜… Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð»Ð¾Ð³Ð³ÐµÑ€
â”œâ”€â”€ logs/                             # Ð”Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ Ð»Ð¾Ð³Ð¾Ð² (Ð´Ð»Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ð¾Ð³Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼Ð°)
â”‚   â””â”€â”€ bot.log
â”œâ”€â”€ venv/                             # Ð’Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ
â”œâ”€â”€ .env                              â˜… Ð¤Ð°Ð¹Ð» Ñ ÑÐµÐºÑ€ÐµÑ‚Ð°Ð¼Ð¸ (ÐÐ• Ð² Git!)
â”œâ”€â”€ .env.example                      # Ð¨Ð°Ð±Ð»Ð¾Ð½ Ð´Ð»Ñ Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐ³Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð°
â”œâ”€â”€ .env.staging.example              # Ð¨Ð°Ð±Ð»Ð¾Ð½ Ð´Ð»Ñ ÑÑ‚ÐµÐ½Ð´Ð¾Ð²Ð¾Ð³Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð°
â”œâ”€â”€ requirements.txt                  # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Python
â”œâ”€â”€ telegram-bot.service              # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ systemd
â”œâ”€â”€ deploy-staging.sh                 # Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð´ÐµÐ¿Ð»Ð¾Ñ Ð½Ð° ÑÑ‚ÐµÐ½Ð´
â”œâ”€â”€ DEPLOY-STAGING.md                 # Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð¿Ð¾ Ð´ÐµÐ¿Ð»Ð¾ÑŽ
â”œâ”€â”€ PROJECT-PASSPORT-UNIFIED.md       â˜… Ð­Ñ‚Ð¾Ñ‚ Ñ„Ð°Ð¹Ð»
â””â”€â”€ README.md                         # Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
```

---

## ðŸ”’ Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ

### ÐŸÑ€Ð¸Ð½Ñ†Ð¸Ð¿Ñ‹:

1. Ð¡ÐµÐºÑ€ÐµÑ‚Ñ‹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² .env - Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° Ð² Git
2. Ð Ð°Ð·Ð½Ñ‹Ðµ ÐºÐ»ÑŽÑ‡Ð¸ Ð´Ð»Ñ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ð¹ (Ð³Ð´Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾)
3. ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð²Ð¸Ð»ÐµÐ³Ð¸Ð¸ - ÑÐ»ÑƒÐ¶Ð±Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¾Ñ‚ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
4. Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ»ÑŽÑ‡ÐµÐ¹ Ð¿Ñ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸

### ÐŸÑ€Ð¸ ÐºÐ¾Ð¼Ð¿Ñ€Ð¾Ð¼ÐµÑ‚Ð°Ñ†Ð¸Ð¸ ÐºÐ»ÑŽÑ‡Ð°:

1. Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÐºÐ»ÑŽÑ‡ Ð² .env
2. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑÐ»ÑƒÐ¶Ð±Ñƒ: sudo systemctl restart telegram-bot
3. (ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾) ÐžÑ‚Ð¾Ð·Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ð°Ñ€Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ Ð² ÑÐµÑ€Ð²Ð¸ÑÐµ (Yandex Cloud, Telegram)

---

## ðŸ“ˆ Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° Ð½Ð¾Ð²Ñ‹Ðµ ÑÐµÑ€Ð²ÐµÑ€Ð°

### Ð”Ð»Ñ ÑÑ‚ÑÐ¹Ð´Ð¶Ð¸Ð½Ð³ ÑÐµÑ€Ð²ÐµÑ€Ð°:

Ð¡Ð»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð² DEPLOY-STAGING.md

### Ð”Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°:

1. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ .env.production
2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ (Prometheus, Grafana)
3. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð°Ð»ÐµÑ€Ñ‚Ð¸Ð½Ð³
4. Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ backup ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸ÑŽ

---

## âœ… Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð³Ð¾Ñ‚Ð¾Ð²Ð½Ð¾ÑÑ‚Ð¸

- Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð½Ð° Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐ¼ ÑÐµÑ€Ð²ÐµÑ€Ðµ (PostgreSQL)
- Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ð´Ð»Ñ ÑÑ‚ÐµÐ½Ð´Ð¾Ð²Ð¾Ð³Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð° (Ñ„Ð°Ð¹Ð»Ð¾Ð²Ñ‹Ðµ Ð»Ð¾Ð³Ð¸)
- Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð»Ð¾Ð³Ð³ÐµÑ€ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½
- Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð°ÐºÑ‚ÑƒÐ°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°
- Git ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð°
- Ð¡ÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ Ð´ÐµÐ¿Ð»Ð¾Ñ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð»ÐµÐ½Ñ‹
- CI/CD Ð² GitLab (ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ ÑÑ‚Ð°Ð¿)
- ÐŸÑ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½-Ð³Ð¾Ñ‚Ð¾Ð²Ð½Ð¾ÑÑ‚ÑŒ

---

## ðŸŽ¯ DevOps Ð½Ð°Ð²Ñ‹ÐºÐ¸, Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ

1. ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ Ð¼ÐµÐ¶Ð´Ñƒ Git-ÑÐµÑ€Ð²Ð¸ÑÐ°Ð¼Ð¸ (GitHub â†’ GitLab)
2. Ð£Ð½Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¹ Ð´Ð»Ñ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ð¹
3. Ð“Ð¸Ð±ÐºÐ°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ multiple backends
4. ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð´ÐµÐ¿Ð»Ð¾Ñ Ñ‡ÐµÑ€ÐµÐ· systemd Ð¸ ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹
5. Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐµÐºÑ€ÐµÑ‚Ð°Ð¼Ð¸
6. Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ Ð²Ñ‹Ð±Ð¾Ñ€Ð¾Ð¼ storage backend
7. Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹

---

### ðŸ ÐŸÐ ÐžÐ•ÐšÐ¢ Ð“ÐžÐ¢ÐžÐ’ Ðš Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐÐ˜Ð® Ð’ PRODUCTION Ð˜ STAGING!

ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ: 13.01.2026 22:30  
Ð’ÐµÑ€ÑÐ¸Ñ: 2.0 (ÑƒÐ½Ð¸Ñ„Ð¸Ñ†Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ)

````
---

## ðŸ“‹ **Ð˜ÐÐ¡Ð¢Ð Ð£ÐšÐ¦Ð˜Ð¯ Ð”Ð›Ð¯ Ð—ÐÐŸÐ£Ð¨Ð Ð•Ð”Ð˜ÐÐžÐ“Ðž ÐŸÐÐ¡ÐŸÐžÐ Ð¢Ð:**

### **Ð¨Ð°Ð³ 1: Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»**
```bash
cd /opt/ytb
cat > PROJECT-PASSPORT-UNIFIED.md << 'EOF'
[Ð’Ð¡Ð¢ÐÐ’Ð¬Ð¢Ð• Ð¡Ð®Ð”Ð Ð’Ð•Ð¡Ð¬ Ð¢Ð•ÐšÐ¡Ð¢ ÐŸÐÐ¡ÐŸÐžÐ Ð¢Ð Ð’Ð«Ð¨Ð•]
EOF
````

### Ð¨Ð°Ð³ 2: ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð² Git

```
git add PROJECT-PASSPORT-UNIFIED.md
git commit -m "Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ ÐµÐ´Ð¸Ð½Ñ‹Ð¹ Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° v2.0"
git push origin master
```

### Ð¨Ð°Ð³ 3: ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ

```
git log --oneline -3
```
